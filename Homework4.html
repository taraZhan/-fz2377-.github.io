<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />


<meta name="author" content="Tara Zhan" />

<meta name="date" content="2023-10-29" />

<title>Homework4</title>

<script src="site_libs/header-attrs-2.24/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/cerulean.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<script src="site_libs/htmlwidgets-1.6.2/htmlwidgets.js"></script>
<script src="site_libs/plotly-binding-4.10.3/plotly.js"></script>
<script src="site_libs/typedarray-0.1/typedarray.min.js"></script>
<link href="site_libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet" />
<script src="site_libs/crosstalk-1.2.0/js/crosstalk.min.js"></script>
<link href="site_libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="site_libs/plotly-main-2.11.1/plotly-latest.min.js"></script>
<link href="site_libs/font-awesome-6.4.2/css/all.min.css" rel="stylesheet" />
<link href="site_libs/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet" />

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>









<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark the anchor link active (and if it's in a dropdown, also mark that active)
  var dropdown = menuAnchor.closest('li.dropdown');
  if (window.bootstrap) { // Bootstrap 4+
    menuAnchor.addClass('active');
    dropdown.find('> .dropdown-toggle').addClass('active');
  } else { // Bootstrap 3
    menuAnchor.parent().addClass('active');
    dropdown.addClass('active');
  }

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before, .tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "\e259";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "\e258";
  font-family: 'Glyphicons Halflings';
  border: none;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->




</head>

<body>


<div class="container-fluid main-container">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Home</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="Homework4.html">Homework4</a>
</li>
<li>
  <a href="Research.html">Research</a>
</li>
<li>
  <a href="Working.html">Working</a>
</li>
<li>
  <a href="mailto:&lt;fz2377@cumc.columbia.edu&gt;">
    <span class="fa fa-envelope fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="https://github.com/taraZhan/-fz2377-.github.io.git">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">



<h1 class="title toc-ignore">Homework4</h1>
<h4 class="author">Tara Zhan</h4>
<h4 class="date">2023-10-29</h4>

</div>


<div
id="plotly-barchart-about-count-of-orders-over-10000-times-by-aisle"
class="section level3">
<h3>Plotly Barchart about Count of orders (over 10000 times) by
aisle</h3>
<pre class="r"><code>filtered_aisles = instacart_df |&gt;
  group_by(aisle, department) |&gt;
  summarise(item_count = n()) |&gt;
  filter(item_count &gt; 10000) |&gt;
  arrange(item_count)
plot_ly(data = filtered_aisles, x = ~aisle, y = ~item_count, color = ~department, type = &quot;bar&quot;, colors = &quot;viridis&quot;) |&gt;
  layout(title = &quot;Items Ordered Over 10000times from Each Aisle&quot;,
         xaxis = list(title = &quot;Aisle Names&quot;),
         yaxis = list(title = &quot;Number of Items Ordered&quot;),
         colorbar = list(title = &quot;Departments&quot;))</code></pre>
<div class="plotly html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-51d8325287df026a7759" style="width:672px;height:480px;"></div>
<script type="application/json" data-for="htmlwidget-51d8325287df026a7759">{"x":{"visdat":{"fb855f12c949":["function () ","plotlyVisDat"]},"cur_data":"fb855f12c949","attrs":{"fb855f12c949":{"x":{},"y":{},"color":{},"colors":"viridis","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"bar"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"Items Ordered Over 10000times from Each Aisle","xaxis":{"domain":[0,1],"automargin":true,"title":"Aisle Names","type":"category","categoryorder":"array","categoryarray":["baby food formula","baking ingredients","bread","butter","candy chocolate","canned jarred vegetables","canned meals beans","cereal","chips pretzels","crackers","cream","dry pasta","eggs","energy granola bars","fresh dips tapenades","fresh fruits","fresh herbs","fresh vegetables","frozen meals","frozen produce","hot dogs bacon sausage","ice cream ice","juice nectars","lunch meat","milk","nuts seeds dried fruit","oils vinegars","other creams cheeses","packaged cheese","packaged produce","packaged vegetables fruits","paper goods","refrigerated","soft drinks","soup broth bouillon","soy lactosefree","spreads","water seltzer sparkling water","yogurt"]},"yaxis":{"domain":[0,1],"automargin":true,"title":"Number of Items Ordered"},"colorbar":{"title":"Departments"},"hovermode":"closest","showlegend":true},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":["baby food formula"],"y":[13198],"type":"bar","name":"babies","marker":{"color":"rgba(68,1,84,1)","line":{"color":"rgba(68,1,84,1)"}},"textfont":{"color":"rgba(68,1,84,1)"},"error_y":{"color":"rgba(68,1,84,1)"},"error_x":{"color":"rgba(68,1,84,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["bread"],"y":[23635],"type":"bar","name":"bakery","marker":{"color":"rgba(72,29,111,1)","line":{"color":"rgba(72,29,111,1)"}},"textfont":{"color":"rgba(72,29,111,1)"},"error_y":{"color":"rgba(72,29,111,1)"},"error_x":{"color":"rgba(72,29,111,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["juice nectars","soft drinks","refrigerated","water seltzer sparkling water"],"y":[14350,16279,23228,36617],"type":"bar","name":"beverages","marker":{"color":"rgba(69,53,129,1)","line":{"color":"rgba(69,53,129,1)"}},"textfont":{"color":"rgba(69,53,129,1)"},"error_y":{"color":"rgba(69,53,129,1)"},"error_x":{"color":"rgba(69,53,129,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["cereal"],"y":[16201],"type":"bar","name":"breakfast","marker":{"color":"rgba(61,77,138,1)","line":{"color":"rgba(61,77,138,1)"}},"textfont":{"color":"rgba(61,77,138,1)"},"error_y":{"color":"rgba(61,77,138,1)"},"error_x":{"color":"rgba(61,77,138,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["canned meals beans","canned jarred vegetables","soup broth bouillon"],"y":[11774,12679,15109],"type":"bar","name":"canned goods","marker":{"color":"rgba(52,97,141,1)","line":{"color":"rgba(52,97,141,1)"}},"textfont":{"color":"rgba(52,97,141,1)"},"error_y":{"color":"rgba(52,97,141,1)"},"error_x":{"color":"rgba(52,97,141,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["butter","cream","other creams cheeses","eggs","soy lactosefree","milk","packaged cheese","yogurt"],"y":[10575,12356,12820,19875,26240,32644,41699,55240],"type":"bar","name":"dairy eggs","marker":{"color":"rgba(43,116,142,1)","line":{"color":"rgba(43,116,142,1)"}},"textfont":{"color":"rgba(43,116,142,1)"},"error_y":{"color":"rgba(43,116,142,1)"},"error_x":{"color":"rgba(43,116,142,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["fresh dips tapenades","lunch meat"],"y":[15142,16957],"type":"bar","name":"deli","marker":{"color":"rgba(36,135,142,1)","line":{"color":"rgba(36,135,142,1)"}},"textfont":{"color":"rgba(36,135,142,1)"},"error_y":{"color":"rgba(36,135,142,1)"},"error_x":{"color":"rgba(36,135,142,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["dry pasta"],"y":[11298],"type":"bar","name":"dry goods pasta","marker":{"color":"rgba(31,153,138,1)","line":{"color":"rgba(31,153,138,1)"}},"textfont":{"color":"rgba(31,153,138,1)"},"error_y":{"color":"rgba(31,153,138,1)"},"error_x":{"color":"rgba(31,153,138,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["frozen meals","frozen produce","ice cream ice"],"y":[18221,22453,22676],"type":"bar","name":"frozen","marker":{"color":"rgba(37,172,130,1)","line":{"color":"rgba(37,172,130,1)"}},"textfont":{"color":"rgba(37,172,130,1)"},"error_y":{"color":"rgba(37,172,130,1)"},"error_x":{"color":"rgba(37,172,130,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["paper goods"],"y":[12694],"type":"bar","name":"household","marker":{"color":"rgba(64,189,114,1)","line":{"color":"rgba(64,189,114,1)"}},"textfont":{"color":"rgba(64,189,114,1)"},"error_y":{"color":"rgba(64,189,114,1)"},"error_x":{"color":"rgba(64,189,114,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["hot dogs bacon sausage"],"y":[12813],"type":"bar","name":"meat seafood","marker":{"color":"rgba(103,204,92,1)","line":{"color":"rgba(103,204,92,1)"}},"textfont":{"color":"rgba(103,204,92,1)"},"error_y":{"color":"rgba(103,204,92,1)"},"error_x":{"color":"rgba(103,204,92,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["oils vinegars","spreads","baking ingredients"],"y":[10620,12102,13088],"type":"bar","name":"pantry","marker":{"color":"rgba(151,216,62,1)","line":{"color":"rgba(151,216,62,1)"}},"textfont":{"color":"rgba(151,216,62,1)"},"error_y":{"color":"rgba(151,216,62,1)"},"error_x":{"color":"rgba(151,216,62,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["packaged produce","fresh herbs","packaged vegetables fruits","fresh fruits","fresh vegetables"],"y":[13460,16052,78493,150473,150609],"type":"bar","name":"produce","marker":{"color":"rgba(203,225,30,1)","line":{"color":"rgba(203,225,30,1)"}},"textfont":{"color":"rgba(203,225,30,1)"},"error_y":{"color":"rgba(203,225,30,1)"},"error_x":{"color":"rgba(203,225,30,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["candy chocolate","nuts seeds dried fruit","energy granola bars","crackers","chips pretzels"],"y":[11453,12532,17449,19592,31269],"type":"bar","name":"snacks","marker":{"color":"rgba(253,231,37,1)","line":{"color":"rgba(253,231,37,1)"}},"textfont":{"color":"rgba(253,231,37,1)"},"error_y":{"color":"rgba(253,231,37,1)"},"error_x":{"color":"rgba(253,231,37,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
<div
id="plotly-boxplot-about-reordered-frequency-within-a-week-on-different-departments"
class="section level3">
<h3>Plotly Boxplot about Reordered Frequency within A Week on Different
Departments</h3>
<pre class="r"><code>filtered_reorder = instacart_df |&gt;
  filter(reordered == 1, days_since_prior_order &lt; 7) |&gt;
  group_by(department, days_since_prior_order) |&gt;
  summarise(item_count = n()) |&gt;
  arrange(item_count)
plot_ly(data = filtered_reorder, y = ~item_count, x = ~department, color = ~days_since_prior_order, type = &quot;box&quot;, colors = &quot;viridis&quot;) |&gt;
  layout(title = &quot;Reordered Frequency within A Week on Different Departments&quot;,
         xaxis = list(title = &quot;Department Names&quot;),
         yaxis = list(title = &quot;Reordered Frequency&quot;),
         colorbar = list(title = &quot;Days Since Lastorder (within a week)&quot;))</code></pre>
<div class="plotly html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-9e9a1e20f4a9747bd294" style="width:672px;height:480px;"></div>
<script type="application/json" data-for="htmlwidget-9e9a1e20f4a9747bd294">{"x":{"visdat":{"fb8521d18012":["function () ","plotlyVisDat"]},"cur_data":"fb8521d18012","attrs":{"fb8521d18012":{"y":{},"x":{},"color":{},"colors":"viridis","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"box"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"Reordered Frequency within A Week on Different Departments","xaxis":{"domain":[0,1],"automargin":true,"title":"Department Names","type":"category","categoryorder":"array","categoryarray":["alcohol","babies","bakery","beverages","breakfast","bulk","canned goods","dairy eggs","deli","dry goods pasta","frozen","household","international","meat seafood","missing","other","pantry","personal care","pets","produce","snacks"]},"yaxis":{"domain":[0,1],"automargin":true,"title":"Reordered Frequency"},"colorbar":{"title":"Days Since Lastorder (within a week)"},"hovermode":"closest","showlegend":false,"legend":{"yanchor":"top","y":0.5}},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"fillcolor":"rgba(33,144,141,0.5)","y":[13,15,17,17,17,25,25,26,29,30,31,39,40,42,45,49,52,59,70,79,81,85,89,97,107,108,112,118,119,121,123,129,133,143,144,145,145,145,146,147,162,177,177,178,180,184,187,203,211,242,250,253,262,279,288,305,308,308,310,315,316,319,333,347,349,366,373,393,393,424,427,428,432,437,439,457,470,485,500,503,509,575,579,613,619,628,629,632,660,664,713,718,730,732,767,771,809,855,871,887,912,943,958,981,1019,1029,1047,1093,1147,1183,1242,1265,1282,1320,1325,1367,1411,1449,1549,1634,1636,1792,1807,1818,1915,2184,2196,2212,2489,2774,2900,2985,3085,3090,4006,4010,4121,4175,4220,5631,5874,6458,8346,8565,10527,12770,17175],"x":["other","other","bulk","bulk","other","bulk","pets","bulk","bulk","other","other","other","bulk","pets","other","pets","bulk","missing","pets","missing","international","pets","alcohol","international","babies","international","missing","pets","pets","babies","personal care","international","international","missing","alcohol","alcohol","alcohol","alcohol","alcohol","personal care","alcohol","breakfast","international","personal care","missing","babies","missing","personal care","dry goods pasta","meat seafood","household","personal care","missing","international","personal care","meat seafood","breakfast","canned goods","household","dry goods pasta","breakfast","dry goods pasta","meat seafood","household","babies","personal care","deli","bakery","canned goods","deli","breakfast","household","dry goods pasta","canned goods","babies","bakery","household","meat seafood","babies","canned goods","deli","household","pantry","bakery","breakfast","frozen","babies","dry goods pasta","meat seafood","pantry","household","deli","dry goods pasta","meat seafood","canned goods","breakfast","pantry","pantry","canned goods","bakery","frozen","frozen","breakfast","deli","snacks","pantry","dry goods pasta","meat seafood","deli","bakery","beverages","pantry","canned goods","bakery","snacks","beverages","frozen","snacks","deli","pantry","beverages","bakery","frozen","dairy eggs","snacks","dairy eggs","beverages","frozen","snacks","beverages","dairy eggs","snacks","frozen","beverages","snacks","produce","beverages","dairy eggs","produce","dairy eggs","produce","dairy eggs","produce","dairy eggs","produce","produce","produce"],"type":"box","marker":{"colorbar":{"title":"days_since_prior_order","ticklen":2},"cmin":0,"cmax":6,"colorscale":[["0","rgba(68,1,84,1)"],["0.0416666666666667","rgba(71,17,100,1)"],["0.0833333333333333","rgba(72,31,112,1)"],["0.125","rgba(71,45,123,1)"],["0.166666666666667","rgba(68,58,131,1)"],["0.208333333333333","rgba(64,70,136,1)"],["0.25","rgba(59,82,139,1)"],["0.291666666666667","rgba(54,93,141,1)"],["0.333333333333333","rgba(49,104,142,1)"],["0.375","rgba(44,114,142,1)"],["0.416666666666667","rgba(40,124,142,1)"],["0.458333333333333","rgba(36,134,142,1)"],["0.5","rgba(33,144,141,1)"],["0.541666666666667","rgba(31,154,138,1)"],["0.583333333333333","rgba(32,164,134,1)"],["0.625","rgba(39,173,129,1)"],["0.666666666666667","rgba(53,183,121,1)"],["0.708333333333333","rgba(71,193,110,1)"],["0.75","rgba(93,200,99,1)"],["0.791666666666667","rgba(117,208,84,1)"],["0.833333333333333","rgba(143,214,68,1)"],["0.875","rgba(170,220,50,1)"],["0.916666666666667","rgba(199,224,32,1)"],["0.958333333333333","rgba(227,228,24,1)"],["1","rgba(253,231,37,1)"]],"showscale":false,"color":[2,1,0,1,4,2,1,3,4,3,0,6,5,0,5,2,6,1,3,0,1,5,0,2,0,0,2,4,6,1,1,3,4,3,4,2,5,6,3,2,1,1,5,0,5,2,4,3,1,1,1,4,6,6,5,0,0,1,2,0,2,2,2,0,3,6,1,1,0,0,3,3,3,2,4,0,4,3,5,3,2,5,1,2,4,1,6,4,4,2,6,3,5,5,4,5,0,3,5,3,2,0,6,4,1,4,6,6,5,4,1,5,6,5,0,0,3,2,6,6,2,6,4,1,3,0,3,5,4,4,2,5,6,5,6,1,6,3,0,4,2,5,3,6,4,5,6],"line":{"colorbar":{"title":"","ticklen":2},"cmin":0,"cmax":6,"colorscale":[["0","rgba(68,1,84,1)"],["0.0416666666666667","rgba(71,17,100,1)"],["0.0833333333333333","rgba(72,31,112,1)"],["0.125","rgba(71,45,123,1)"],["0.166666666666667","rgba(68,58,131,1)"],["0.208333333333333","rgba(64,70,136,1)"],["0.25","rgba(59,82,139,1)"],["0.291666666666667","rgba(54,93,141,1)"],["0.333333333333333","rgba(49,104,142,1)"],["0.375","rgba(44,114,142,1)"],["0.416666666666667","rgba(40,124,142,1)"],["0.458333333333333","rgba(36,134,142,1)"],["0.5","rgba(33,144,141,1)"],["0.541666666666667","rgba(31,154,138,1)"],["0.583333333333333","rgba(32,164,134,1)"],["0.625","rgba(39,173,129,1)"],["0.666666666666667","rgba(53,183,121,1)"],["0.708333333333333","rgba(71,193,110,1)"],["0.75","rgba(93,200,99,1)"],["0.791666666666667","rgba(117,208,84,1)"],["0.833333333333333","rgba(143,214,68,1)"],["0.875","rgba(170,220,50,1)"],["0.916666666666667","rgba(199,224,32,1)"],["0.958333333333333","rgba(227,228,24,1)"],["1","rgba(253,231,37,1)"]],"showscale":false,"color":[2,1,0,1,4,2,1,3,4,3,0,6,5,0,5,2,6,1,3,0,1,5,0,2,0,0,2,4,6,1,1,3,4,3,4,2,5,6,3,2,1,1,5,0,5,2,4,3,1,1,1,4,6,6,5,0,0,1,2,0,2,2,2,0,3,6,1,1,0,0,3,3,3,2,4,0,4,3,5,3,2,5,1,2,4,1,6,4,4,2,6,3,5,5,4,5,0,3,5,3,2,0,6,4,1,4,6,6,5,4,1,5,6,5,0,0,3,2,6,6,2,6,4,1,3,0,3,5,4,4,2,5,6,5,6,1,6,3,0,4,2,5,3,6,4,5,6]}},"xaxis":"x","yaxis":"y","frame":null},{"x":["alcohol","snacks"],"y":[13,17175],"type":"scatter","mode":"markers","opacity":0,"hoverinfo":"none","showlegend":false,"marker":{"colorbar":{"title":"days_since_prior_order","ticklen":2,"len":0.5,"lenmode":"fraction","y":1,"yanchor":"top"},"cmin":0,"cmax":6,"colorscale":[["0","rgba(68,1,84,1)"],["0.0416666666666667","rgba(71,17,100,1)"],["0.0833333333333333","rgba(72,31,112,1)"],["0.125","rgba(71,45,123,1)"],["0.166666666666667","rgba(68,58,131,1)"],["0.208333333333333","rgba(64,70,136,1)"],["0.25","rgba(59,82,139,1)"],["0.291666666666667","rgba(54,93,141,1)"],["0.333333333333333","rgba(49,104,142,1)"],["0.375","rgba(44,114,142,1)"],["0.416666666666667","rgba(40,124,142,1)"],["0.458333333333333","rgba(36,134,142,1)"],["0.5","rgba(33,144,141,1)"],["0.541666666666667","rgba(31,154,138,1)"],["0.583333333333333","rgba(32,164,134,1)"],["0.625","rgba(39,173,129,1)"],["0.666666666666667","rgba(53,183,121,1)"],["0.708333333333333","rgba(71,193,110,1)"],["0.75","rgba(93,200,99,1)"],["0.791666666666667","rgba(117,208,84,1)"],["0.833333333333333","rgba(143,214,68,1)"],["0.875","rgba(170,220,50,1)"],["0.916666666666667","rgba(199,224,32,1)"],["0.958333333333333","rgba(227,228,24,1)"],["1","rgba(253,231,37,1)"]],"showscale":true,"color":[0,6],"line":{"color":"rgba(255,127,14,1)"}},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
<div
id="plotly-scatterplot-about-frequency-of-ordering-in-a-day-of-different-departments"
class="section level3">
<h3>Plotly Scatterplot about Frequency of ordering in a day of different
departments</h3>
<pre class="r"><code>filtered_hour = instacart_df |&gt;
  filter(add_to_cart_order == 1) |&gt;
  group_by(department, order_hour_of_day) |&gt;
  summarise(item_count = n()) |&gt;
  arrange(item_count)
plot_ly( data = filtered_hour, x = ~order_hour_of_day, type = &quot;scatter&quot;, mode = &quot;markers&quot;, color = ~department, alpha = 0.5, colors = &quot;viridis&quot;) |&gt;
  layout(title = &quot;Frequency of ordering in a day of different departments&quot;,
         xaxis = list(title = &quot;Hours in a Day&quot;),
         yaxis = list(title = &quot;Frequency of Ordering&quot;),
         colorbar = list(title = &quot;Department Names&quot;))</code></pre>
<div class="plotly html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-6e0a939342ab464106dc" style="width:672px;height:480px;"></div>
<script type="application/json" data-for="htmlwidget-6e0a939342ab464106dc">{"x":{"visdat":{"fb85bc6ec9":["function () ","plotlyVisDat"]},"cur_data":"fb85bc6ec9","attrs":{"fb85bc6ec9":{"x":{},"mode":"markers","color":{},"colors":"viridis","alpha":0.5,"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"Frequency of ordering in a day of different departments","xaxis":{"domain":[0,1],"automargin":true,"title":"Hours in a Day"},"yaxis":{"domain":[0,1],"automargin":true,"title":"Frequency of Ordering"},"colorbar":{"title":"Department Names"},"hovermode":"closest","showlegend":true},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":[2,3,1,4,5,23,22,0,6,21,7,20,8,19,9,18,10,12,11,13,17,16,14,15],"mode":"markers","type":"scatter","name":"alcohol","marker":{"color":"rgba(68,1,84,0.5)","line":{"color":"rgba(68,1,84,1)"}},"textfont":{"color":"rgba(68,1,84,0.5)"},"error_y":{"color":"rgba(68,1,84,0.5)"},"error_x":{"color":"rgba(68,1,84,0.5)"},"line":{"color":"rgba(68,1,84,0.5)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[0,3,5,23,6,22,19,21,7,20,8,12,17,18,13,16,14,15,9,10,11],"mode":"markers","type":"scatter","name":"babies","marker":{"color":"rgba(72,20,102,0.5)","line":{"color":"rgba(72,20,102,1)"}},"textfont":{"color":"rgba(72,20,102,0.5)"},"error_y":{"color":"rgba(72,20,102,0.5)"},"error_x":{"color":"rgba(72,20,102,0.5)"},"line":{"color":"rgba(72,20,102,0.5)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[2,4,3,5,1,0,23,6,22,21,7,20,19,8,18,9,17,12,11,16,13,15,10,14],"mode":"markers","type":"scatter","name":"bakery","marker":{"color":"rgba(72,37,117,0.5)","line":{"color":"rgba(72,37,117,1)"}},"textfont":{"color":"rgba(72,37,117,0.5)"},"error_y":{"color":"rgba(72,37,117,0.5)"},"error_x":{"color":"rgba(72,37,117,0.5)"},"line":{"color":"rgba(72,37,117,0.5)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[2,4,3,5,1,0,6,23,22,21,7,20,19,8,18,17,9,16,12,15,11,13,14,10],"mode":"markers","type":"scatter","name":"beverages","marker":{"color":"rgba(70,52,128,0.5)","line":{"color":"rgba(70,52,128,1)"}},"textfont":{"color":"rgba(70,52,128,0.5)"},"error_y":{"color":"rgba(70,52,128,0.5)"},"error_x":{"color":"rgba(70,52,128,0.5)"},"line":{"color":"rgba(70,52,128,0.5)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[3,4,5,2,1,0,6,23,21,22,20,7,19,8,18,17,9,13,15,16,11,12,14,10],"mode":"markers","type":"scatter","name":"breakfast","marker":{"color":"rgba(65,68,135,0.5)","line":{"color":"rgba(65,68,135,1)"}},"textfont":{"color":"rgba(65,68,135,0.5)"},"error_y":{"color":"rgba(65,68,135,0.5)"},"error_x":{"color":"rgba(65,68,135,0.5)"},"line":{"color":"rgba(65,68,135,0.5)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[1,23,21,5,20,22,7,18,19,8,12,14,16,9,13,10,17,15,11],"mode":"markers","type":"scatter","name":"bulk","marker":{"color":"rgba(59,82,139,0.5)","line":{"color":"rgba(59,82,139,1)"}},"textfont":{"color":"rgba(59,82,139,0.5)"},"error_y":{"color":"rgba(59,82,139,0.5)"},"error_x":{"color":"rgba(59,82,139,0.5)"},"line":{"color":"rgba(59,82,139,0.5)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[4,2,3,1,5,0,6,23,7,20,21,22,19,8,18,9,10,17,16,15,14,12,13,11],"mode":"markers","type":"scatter","name":"canned goods","marker":{"color":"rgba(53,96,141,0.5)","line":{"color":"rgba(53,96,141,1)"}},"textfont":{"color":"rgba(53,96,141,0.5)"},"error_y":{"color":"rgba(53,96,141,0.5)"},"error_x":{"color":"rgba(53,96,141,0.5)"},"line":{"color":"rgba(53,96,141,0.5)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[2,4,3,5,1,0,6,23,22,21,7,20,19,8,18,17,9,11,16,12,13,15,10,14],"mode":"markers","type":"scatter","name":"dairy eggs","marker":{"color":"rgba(47,108,142,0.5)","line":{"color":"rgba(47,108,142,1)"}},"textfont":{"color":"rgba(47,108,142,0.5)"},"error_y":{"color":"rgba(47,108,142,0.5)"},"error_x":{"color":"rgba(47,108,142,0.5)"},"line":{"color":"rgba(47,108,142,0.5)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[5,3,4,2,1,0,6,23,22,21,7,20,8,19,18,9,10,17,12,14,11,16,13,15],"mode":"markers","type":"scatter","name":"deli","marker":{"color":"rgba(42,120,142,0.5)","line":{"color":"rgba(42,120,142,1)"}},"textfont":{"color":"rgba(42,120,142,0.5)"},"error_y":{"color":"rgba(42,120,142,0.5)"},"error_x":{"color":"rgba(42,120,142,0.5)"},"line":{"color":"rgba(42,120,142,0.5)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[3,5,2,4,1,6,0,23,22,7,21,20,8,18,19,9,10,17,11,16,12,13,14,15],"mode":"markers","type":"scatter","name":"dry goods pasta","marker":{"color":"rgba(37,132,142,0.5)","line":{"color":"rgba(37,132,142,1)"}},"textfont":{"color":"rgba(37,132,142,0.5)"},"error_y":{"color":"rgba(37,132,142,0.5)"},"error_x":{"color":"rgba(37,132,142,0.5)"},"line":{"color":"rgba(37,132,142,0.5)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[3,4,5,2,1,6,0,23,22,21,7,20,8,19,9,10,18,11,12,13,15,14,17,16],"mode":"markers","type":"scatter","name":"frozen","marker":{"color":"rgba(33,144,141,0.5)","line":{"color":"rgba(33,144,141,1)"}},"textfont":{"color":"rgba(33,144,141,0.5)"},"error_y":{"color":"rgba(33,144,141,0.5)"},"error_x":{"color":"rgba(33,144,141,0.5)"},"line":{"color":"rgba(33,144,141,0.5)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[3,2,4,1,5,0,6,23,22,21,7,20,19,8,18,16,17,9,12,11,14,15,13,10],"mode":"markers","type":"scatter","name":"household","marker":{"color":"rgba(30,156,137,0.5)","line":{"color":"rgba(30,156,137,1)"}},"textfont":{"color":"rgba(30,156,137,0.5)"},"error_y":{"color":"rgba(30,156,137,0.5)"},"error_x":{"color":"rgba(30,156,137,0.5)"},"line":{"color":"rgba(30,156,137,0.5)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[3,4,6,1,0,23,20,7,22,21,19,8,18,10,14,17,9,12,11,13,16,15],"mode":"markers","type":"scatter","name":"international","marker":{"color":"rgba(34,168,132,0.5)","line":{"color":"rgba(34,168,132,1)"}},"textfont":{"color":"rgba(34,168,132,0.5)"},"error_y":{"color":"rgba(34,168,132,0.5)"},"error_x":{"color":"rgba(34,168,132,0.5)"},"line":{"color":"rgba(34,168,132,0.5)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[3,4,2,1,5,0,6,23,22,7,21,20,8,19,9,18,17,13,10,11,16,12,14,15],"mode":"markers","type":"scatter","name":"meat seafood","marker":{"color":"rgba(47,180,124,0.5)","line":{"color":"rgba(47,180,124,1)"}},"textfont":{"color":"rgba(47,180,124,0.5)"},"error_y":{"color":"rgba(47,180,124,0.5)"},"error_x":{"color":"rgba(47,180,124,0.5)"},"line":{"color":"rgba(47,180,124,0.5)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[2,3,4,1,0,6,7,21,23,22,20,8,16,19,11,9,17,12,10,18,13,15,14],"mode":"markers","type":"scatter","name":"missing","marker":{"color":"rgba(67,190,113,0.5)","line":{"color":"rgba(67,190,113,1)"}},"textfont":{"color":"rgba(67,190,113,0.5)"},"error_y":{"color":"rgba(67,190,113,0.5)"},"error_x":{"color":"rgba(67,190,113,0.5)"},"line":{"color":"rgba(67,190,113,0.5)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[3,5,6,0,2,23,22,8,18,20,7,21,19,9,10,11,12,13,15,16,14,17],"mode":"markers","type":"scatter","name":"other","marker":{"color":"rgba(93,200,99,0.5)","line":{"color":"rgba(93,200,99,1)"}},"textfont":{"color":"rgba(93,200,99,0.5)"},"error_y":{"color":"rgba(93,200,99,0.5)"},"error_x":{"color":"rgba(93,200,99,0.5)"},"line":{"color":"rgba(93,200,99,0.5)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[3,2,4,5,1,6,0,23,22,7,21,20,8,19,18,9,17,10,14,16,15,11,13,12],"mode":"markers","type":"scatter","name":"pantry","marker":{"color":"rgba(122,209,81,0.5)","line":{"color":"rgba(122,209,81,1)"}},"textfont":{"color":"rgba(122,209,81,0.5)"},"error_y":{"color":"rgba(122,209,81,0.5)"},"error_x":{"color":"rgba(122,209,81,0.5)"},"line":{"color":"rgba(122,209,81,0.5)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[3,4,2,1,5,0,23,6,22,21,7,20,8,19,18,13,14,9,17,16,10,11,12,15],"mode":"markers","type":"scatter","name":"personal care","marker":{"color":"rgba(154,217,61,0.5)","line":{"color":"rgba(154,217,61,1)"}},"textfont":{"color":"rgba(154,217,61,0.5)"},"error_y":{"color":"rgba(154,217,61,0.5)"},"error_x":{"color":"rgba(154,217,61,0.5)"},"line":{"color":"rgba(154,217,61,0.5)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[2,3,4,1,5,0,6,23,22,21,7,8,20,9,13,10,14,19,11,12,15,16,17,18],"mode":"markers","type":"scatter","name":"pets","marker":{"color":"rgba(188,223,39,0.5)","line":{"color":"rgba(188,223,39,1)"}},"textfont":{"color":"rgba(188,223,39,0.5)"},"error_y":{"color":"rgba(188,223,39,0.5)"},"error_x":{"color":"rgba(188,223,39,0.5)"},"line":{"color":"rgba(188,223,39,0.5)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[4,3,5,2,1,0,6,23,22,21,7,20,19,8,18,17,9,10,16,13,11,12,14,15],"mode":"markers","type":"scatter","name":"produce","marker":{"color":"rgba(222,227,24,0.5)","line":{"color":"rgba(222,227,24,1)"}},"textfont":{"color":"rgba(222,227,24,0.5)"},"error_y":{"color":"rgba(222,227,24,0.5)"},"error_x":{"color":"rgba(222,227,24,0.5)"},"line":{"color":"rgba(222,227,24,0.5)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[4,2,5,3,1,0,6,23,21,22,7,20,19,8,18,9,17,12,13,10,14,16,15,11],"mode":"markers","type":"scatter","name":"snacks","marker":{"color":"rgba(253,231,37,0.5)","line":{"color":"rgba(253,231,37,1)"}},"textfont":{"color":"rgba(253,231,37,0.5)"},"error_y":{"color":"rgba(253,231,37,0.5)"},"error_x":{"color":"rgba(253,231,37,0.5)"},"line":{"color":"rgba(253,231,37,0.5)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
